<app-modal
  [modalID]="'filter-user'"
  [isClosable]="true"
  [direction]="'horizontal'"
>
  <div class="modal-form-filter w-400">
    <form class="filter" [formGroup]="filterForm" (submit)="applyFilter()">
      <div class="filter__header">Фильтр</div>
      <div class="filter__content">
        <div>
          <fieldset>
            <legend>Роль</legend>
            <div class="checkbox-group">
              <label
                for="{{ role.key }}"
                class="checkbox-wrapper"
                *ngFor="let role of asset.roles | keyvalue"
              >
                <input
                  type="checkbox"
                  name="role"
                  id="{{ role.key }}"
                  value="{{ role.key }}"
                  class="visually-hidden"
                  formArrayName="roles"
                  (change)="onCheckboxChange($event, 'roles')"
                />
                <div class="input checkbox-custom">
                  <svg width="18" height="18" viewBox="0 0 20 20">
                    <polyline points="2.6,8.1 5.9,11.4 13.0,4.2"></polyline>
                  </svg>
                </div>
                <span>{{ role.value.text }}</span>
              </label>
            </div>
          </fieldset>
          <fieldset>
            <legend>Структурное подразделение</legend>
            <div class="checkbox-group">
              <label
                for="{{ tag }}"
                class="checkbox-wrapper"
                *ngFor="let tag of userTags"
              >
                <ng-container *ngIf="tag">
                  <input
                    type="checkbox"
                    name="group"
                    id="{{ tag }}"
                    value="{{ tag }}"
                    class="visually-hidden"
                    formArrayName="groups"
                    (change)="onCheckboxChange($event, 'groups')"
                  />
                  <div class="input checkbox-custom">
                    <svg width="18" height="18" viewBox="0 0 20 20">
                      <polyline points="2.6,8.1 5.9,11.4 13.0,4.2"></polyline>
                    </svg>
                  </div>
                  <span>{{ tag }}</span>
                </ng-container>
              </label>
            </div>
          </fieldset>

          <!--          DELETE USERS GROUP -->
          <!--          <div style="display: flex; flex-wrap: wrap; gap: 10px">
        <h3>Для удаления подразделения нажми на тег:</h3>
        <label class="checkbox-wrapper" *ngFor="let tag of userTags">
          <span
            style="
              border: 1px solid red;
              min-width: 100px;
              min-height: 20px;
              padding: 8px;
              font-size: 12px;
            "
            (click)="deleteUserTag(tag)"
            >{{ tag }}</span
          >
        </label>
      </div>-->
        </div>
      </div>
      <div class="filter__footer">
        <div class="btn-wrapper">
          <button type="submit" class="btn btn--big">Применить</button>
          <button
            (click)="clearFilter()"
            type="button"
            class="btn btn--big btn--outline"
          >
            Отменить
          </button>
        </div>
      </div>
    </form>
  </div>
</app-modal>
